<toboggan-ws-modal
  #edit
  title="Edit User"
  acceptButton="Review Changes"
  id="edit-user"
  (hidden)="editModalHidden()"
  (accept)="editModalAccept()"
>
  <form [formGroup]="userForm">
    <p class="gp-paragraph" *ngIf="user">
      {{ user.firstName }} {{ user.lastName }} (User ID: {{ user.id }})
    </p>
    <gp-input
      label="First Name"
      [error]="hasError('firstName')"
      [errorMessage]="getErrorMessage('firstName', 'First Name')"
    >
      <input type="text" formControlName="firstName" />
    </gp-input>
    <gp-input
      label="Last Name"
      [error]="hasError('lastName')"
      [errorMessage]="getErrorMessage('lastName', 'Last Name')"
    >
      <input type="text" formControlName="lastName" />
    </gp-input>
    <gp-input
      label="Email Address"
      [error]="hasError('email')"
      [errorMessage]="getErrorMessage('email', 'Email')"
    >
      <input type="email" formControlName="email" />
    </gp-input>
  </form>
</toboggan-ws-modal>

<div *ngIf="isLoading">
  <gp-interstitial-loader
    [isOverlayVisible]="true"
    [type]="loaderType"
  ></gp-interstitial-loader>
</div>
<p *ngIf="failedToUpdateUser" class="gp-paragraph error-message">
  <strong>Add New User</strong> couldn't be completed
</p>

<toboggan-ws-modal
  #review
  title="Approve Changes?"
  acceptButton="Yes, approve"
  cancelButton="No, keep editing"
  id="edit-user-review"
  (hidden)="reviewModalHidden()"
  (accept)="onSubmit()"
>
  <toboggan-ws-form-changes-table [rows]="approveChanges">
  </toboggan-ws-form-changes-table>
</toboggan-ws-modal>

{{ user }}
